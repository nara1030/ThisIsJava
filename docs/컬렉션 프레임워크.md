컬렉션 프레임워크
=========
* 2019.07.23(화): 컬렉션 프레임워크
- - - - -
## 목차
1. [필요성](#필요성)
2. [컬렉션 프레임워크](#컬렉션-프레임워크)
	* [List 컬렉션](#List-컬렉션)
	* [Set 컬렉션](#Set-컬렉션)
	* [Map 컬렉션](#Map-컬렉션)
3. [기능 추가](#기능-추가)
	* [검색 기능을 강화시킨 컬렉션](#검색-기능을-강화시킨-컬렉션)
	* [LIFO와 FIFO 컬렉션](#LIFO와-FIFO-컬렉션)
	* [동기화된 컬렉션](#동기화된-컬렉션)
	* [병렬 처리를 위한 컬렉션](#병렬-처리를-위한-컬렉션)
4. [연관](#연관)
5. [참고](#참고)

## 필요성
* 애플리케이션 개발 시 다수의 객체 저장해두고 필요할 때마다 꺼내 사용하는 경우 존재
	* 예. Course 클래스의 Student[] 멤버
	* 가장 간단한 방법은 위처럼 배열 이용하는 것
* 하지만 배열은 추가, 삭제 시 문제 있음
	* 이에 대한 대안으로 컬렉션 프레임워크 도입

## 컬렉션 프레임워크
* 컬렉션 프레임워크(Collection Framework)란
	* java.util 패키지에 있는 컬렉션과 관련된 인터페이스와 클래스들 총칭
		* 컬렉션 프레임워크의 주요 인터페이스로는 List, Set, Map이 있음
		* 기본적으로 이들 인터페이스는 제네릭 타입
			* 즉, 메소드의 매개 변수 타입과 리턴 타입에 E라는 타입 파라미터 존재
	* 객체들을 효율적으로 추가, 삭제, 검색
		* 널리 알려져 있는 자료구조 기반
		* 배열의 문제점 해결
	* List와 Set은 객체를 추가, 삭제, 검색하는 방법에 많은 공통점이 있기 떄문에 인터페이스들의 공통 메소드를 모아 Collection 인터페이스로 정의  
	<img src="../img/collection_hierarchy.jpg" width="450" height="250"></br>

* 용어
	* 인터페이스
		* 컬렉션들을 사용하는 방법을 정의한 것
		* 따라서 같은 인터페이스의 구현 클래스는 사용 방법이 같음!!
	* 프레임워크
		* 사용 방법을 미리 정해놓은 라이브러리

요약하면 이렇다.  
<img src="../img/collection_summary.jpg" width="450" height="200"></br>

### List 컬렉션
* List 컬렉션은 객체를 일렬로 늘어놓은 구조
	* 객체를 인덱스로 관리하기 때문에 객체를 저장하면 자동 인덱스 부여
		* 검색 시 인덱스 번호가 필요 없다면 향상된 for문 이용
	* 객체 자체를 저장하는 것이 아니라 객체의 번지를 참조  
	<img src="../img/collection_list.jpg" width="450" height="200"></br>
* List 인터페이스는 제네릭 타입
	* 구체적인 타입은 구현 객체를 생성할 때 결정
		* List`<String>` list = new ArrayList`<String>`();
	* 의문점
		* 파라미터가 Object인 것은 자바 4 이전 메소드인가?(ex. boolean contains(Object o))
* List 인터페이스 구현 클래스
	1. ArrayList
		* 인덱스 검색이나, 맨 마지막에 객체를 추가하는 경우 사용
		* 고정된 객체들로 구성된 List를 생성하는 경우
			* List`<String>` list = Arrays.asList("홍길동", "신용권", "김자바");
			* 보통은 ArrayList 생성 후 런타임 시 객체를 추가해주는 것이 일반적
	2. Vector
		* ArrayList와 동일한 내부 구조, 그러나 동기화(synchronized)된 메소드로 구성
	3. LinkedList
		* 빈번한 객체 삭제와 삽입이 일어나는 경우 사용
		* ArrayList와 사용 방법은 똑같지만 내부 구조는 다름
			* ArrayList는 내부 배열에 객체를 저장해서 인덱스로 관리하지만, LinkedList는 인접 참조를 링크해서 체인처럼 관리  
			<img src="../img/collection_linkedList.jpg" width="450" height="250"></br>

### Set 컬렉션
* Set 컬렉션은 순서는 무관하고, 중복 비허용
	* List 컬렉션은 저장 순서를 유지하지만 Set 컬렉션은 유지되지 않음
	* 객체를 중복해서 저장할 수 없고, 하나의 null만 저장 가능
* 중복 저장을 어떻게 막아놨을까?
	* 그림을 보면 `같은 객체`를 두 번 저장할 수 없음  
	<img src="../img/collection_set.jpg" width="450" height="200"></br>
	* 동일 객체 판별법(ex. HashSet)  
	<img src="../img/collection_hashSet.jpg" width="450" height="150"></br>
		* 즉, HashSet은 객체를 저장하기 전에 먼저 객체의 hashCode() 메소드를 호출해서 해시코드를 알아낸다. 그리고 이미 저장되어 있는 객체들의 해시코드와 비교한다. 만약 동일한 해시코드가 있다면 다시 equals() 메소드로 두 객체를 비교해서 true가 나오면 동일한 객체로 판단하고 중복 저장을 하지 않는다.
		* 결과적으로 HashSet이 판단하는 `동일한 객체`란 꼭 `같은 인스턴스`를 뜻하지는 않는다.
* 인덱스가 없는데 어떻게 검색하지?
	* `Iterator<E> iterator()` 메소드
		* 저장된 전체 객체를 대상으로 한번씩 반복해서 가져오는 반복자(Iterator) 제공
		* 코드  
		```java
		Set<String> set = ...;
		Iterator<String> iterator = set.iterator();
		```
	* 사용법(Iterator 인터페이스 선언 메소드들)
		1. `boolean hasNext()`: 가져올 객체가 있으면 true를 리턴하고 없으면 false를 리턴  
		2. `E next()`: 컬렉션에서 하나의 객체를 가져옴
		3. `void remove()`: Set 컬렉션에서 객체를 제거
			* Iterator의 메소드지만 실제 Set 컬렉션에서 객체가 제거됨
				* 제거 방법 1  
				```java
				if(str.equals("홍길동") {
					iterator.remove();
				}
				```
			* 제거 방법 2  
			```java
			Set<String> set = new HashSet<>();
			set.add("JAVA");
			set.remove("JAVA");
			```
* Set 인터페이스 구현 클래스
	1. HashSet
	2. LinkedHashSet(**추후**)
	3. TreeSet(**추후**)

* 용어
	* 해시코드
		* [자바 해시코드](https://fors.tistory.com/81)
			* 주소와는 다른 개념이지만 인스턴스에 고유한 번호를 부여
			* Overide해서 사용하면 인스턴스가 아니라 객체별 구분 가능
	* 반복자(Iterator)란
		* Iterator 인터페이스를 구현한 객체
		* Set 인터페이스의 iterator() 메소드 호출함으로써 얻음
		* 의문점
			* 향상된 for문 있는데 굳이? 그리고 List에도 있는 거 같은데 잘 안쓴다는 건가?
			* 참고
				* [Collection과 Iterator](https://m.blog.naver.com/PostView.nhn?blogId=writer0713&logNo=220877874725&proxyReferer=https%3A%2F%2Fwww.google.com%2F)
				* [Differences between Iterator and Iterable in Java](https://www.techiedelight.com/differences-between-iterator-and-iterable-in-java/)

### Map 컬렉션
* Map 컬렉션
	* 구조
		* Map 컬렉션은 Entry 객체를 저장하는 구조를 가짐
			* [Map.Entry 인터페이스](https://codedragon.tistory.com/6046)  
			<img src="../img/collection_map-entry.png" width="400" height="200"></br>
		* Entry 객체는 키(key)와 값(value)으로 구성됨
			* 여기서 키와 값은 모두 객체
		* 그림  
		<img src="../img/collection_map.jpg" width="550" height="200"></br>
	* 특성
		* 키는 중복 저장될 수 없지만 값은 중복
		* 만약 기존 저장된 키와 동일한 키로 값을 저장하면 기존의 값은 없어지고 새로운 값으로 치환됨
	* 사용법
		* 
* Map 인터페이스 구현 클래스
	1. HashMap
	2. Hashtable
	3. LinkedHashMap
	4. Properties
	5. TreeMap


## 기능 추가

### 검색 기능을 강화시킨 컬렉션

### LIFO와 FIFO 컬렉션

### 동기화된 컬렉션

### 병렬 처리를 위한 컬렉션

## 연관


## 참고
* Java8 docs
	* [List interface](https://docs.oracle.com/javase/8/docs/api/java/util/List.html)
	* [Set interface](https://docs.oracle.com/javase/8/docs/api/java/util/Set.html)
	* [Map interface](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html)